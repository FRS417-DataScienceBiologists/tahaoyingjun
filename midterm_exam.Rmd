---
title: "Midterm Exam"
date: "Winter 2019"
output:
  html_document:
    keep_md: yes
    theme: spacelab
    toc_float: no
  pdf_document:
    toc: yes
---

## Instructions
This exam is designed to show me what you have learned and where there are problems. You may use your notes and anything from the `class_files` folder, but please no internet searches. You have 35 minutes to complete as many of these exercises as possible on your own, and 10 minutes to work with a partner.  

At the end of the exam, upload the complete .Rmd file to your GitHub repository.  

1. Load the tidyverse.
```{r}
library(tidyverse)
```


2. For these questions, we will use data about California colleges. Load the `ca_college_data.csv` as a new object called `colleges`.
```{r}
college<-
  readr::read_csv("data/ca_college_data.csv")
```


3. Use your preferred function to have a look at the data and get an idea of its structure.
```{r}
summary(college)
```


4. What are the column names?
```{r}
colnames(college)
```


5. Are there any NA's in the data? If so, how many are present and in which variables?
INSTNM              CITY              STABBR              ZIP               ADM_RATE     
 Length:341         Length:341         Length:341         Length:341         Min.   :0.0807  
 Class :character   Class :character   Class :character   Class :character   1st Qu.:0.4581  
 Mode  :character   Mode  :character   Mode  :character   Mode  :character   Median :0.6370  
                                                                             Mean   :0.5901  
                                                                             3rd Qu.:0.7461  
                                                                             Max.   :1.0000  
                                                                             NA's   :240     
    SAT_AVG         PCIP26           COSTT4_A     C150_4_POOLED     PFTFTUG1_EF    
 Min.   : 870   Min.   :0.00000   Min.   : 7956   Min.   :0.0625   Min.   :0.0064  
 1st Qu.: 985   1st Qu.:0.00000   1st Qu.:12578   1st Qu.:0.4265   1st Qu.:0.3212  
 Median :1078   Median :0.00000   Median :16591   Median :0.5845   Median :0.5016  
 Mean   :1112   Mean   :0.01981   Mean   :26685   Mean   :0.5705   Mean   :0.5577  
 3rd Qu.:1237   3rd Qu.:0.02458   3rd Qu.:39289   3rd Qu.:0.7162   3rd Qu.:0.8117  
 Max.   :1555   Max.   :0.21650   Max.   :69355   Max.   :0.9569   Max.   :1.0000  
 NA's   :276    NA's   :35        NA's   :124     NA's   :221      NA's   :53      


6. Which cities in California have the highest number of colleges?
```{r}
college %>% 
  ggplot(aes(x=CITY))+
  geom_bar()+
   theme(axis.text.x = element_text(angle=90, hjust=1))
```


7. The column `COSTT4_A` is the annual cost of each institution. Which city has the highest cost?

```{r}
ggplot(data=college, mapping=aes(x=COSTT4_A, y=CITY))+
 geom_boxplot()
```


8. The column `ADM_RATE` is the admissions rate by college and `C150_4_POOLED` is the four-year completion rate. Use a scatterplot to show the relationship between these two variables. What does this mean?
```{r}
ggplot(data=college, mapping=aes(x=ADM_RATE, y=C150_4_POOLED))+
 geom_point()
```

9. The column titled `INSTNM` is the institution name. We are only interested in the University of California colleges. Run the code below and look at the output. Are all of the columns tidy? Why or why not?
```{r}
univ_calif<-
  college %>%
  filter_all(any_vars(str_detect(.,pattern = "University of California")))
univ_calif
```
They are tidy, because each colume has a category.


10. Use `separate()` to separate institution name into two new columns "UNIV" and "CAMPUS".


11. As a final step, remove `Hastings College of Law` and `UC San Francisco` and store the final data frame as a new object `univ_calif_final`.


12. The column `ADM_RATE` is the admissions rate by campus. Which UC has the lowest and highest admissions rates? Please use a barplot.


## Knit Your Output and Post to [GitHub](https://github.com/FRS417-DataScienceBiologists)